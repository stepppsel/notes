(function(e){function t(t){for(var n,a,s=t[0],u=t[1],i=t[2],l=0,d=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),o()}function o(){for(var e,t=0;t<c.length;t++){for(var o=c[t],n=!0,s=1;s<o.length;s++){var u=o[s];0!==r[u]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},c=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/notes/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var p=u;c.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),r={class:"container"},c=Object(n["h"])("span",{class:"logo"},"Заметки",-1),a={class:"body"},s={class:"shadow"},u={class:"pages"},i=Object(n["h"])("span",null,"Меню",-1),p={class:"pages-data"};function l(e,t,o,l,d,b){var O=Object(n["x"])("router-view");return Object(n["s"])(),Object(n["g"])("div",r,[Object(n["h"])("header",null,[Object(n["h"])("button",{class:"menu",onClick:t[0]||(t[0]=function(t){return e.openMenu=!0})},"меню"),c,Object(n["h"])("button",{onClick:t[1]||(t[1]=function(t){return e.$router.push("/search")})},"Найти")]),Object(n["h"])("div",a,[Object(n["i"])(O),Object(n["i"])(n["b"],{name:"shadow"},{default:Object(n["F"])((function(){return[Object(n["G"])(Object(n["h"])("div",s,null,512),[[n["D"],e.openMenu]])]})),_:1}),Object(n["i"])(n["b"],{name:"menu"},{default:Object(n["F"])((function(){return[Object(n["G"])(Object(n["h"])("div",u,[i,Object(n["h"])("div",p,[Object(n["h"])("button",{onClick:t[2]||(t[2]=function(t){return e.updatePage("/")}),class:Object(n["o"])({"page-active":"/"===e.$route.path})},"Все",2),Object(n["h"])("button",{onClick:t[3]||(t[3]=function(t){return e.updatePage("/groups")}),class:Object(n["o"])({"page-active":"/groups"===e.$route.path})},"Группы",2),Object(n["h"])("button",{onClick:t[4]||(t[4]=function(t){return e.updatePage("/search")}),class:Object(n["o"])({"page-active":"/search"===e.$route.path})},"Найти",2),Object(n["h"])("button",{onClick:t[5]||(t[5]=function(t){return e.updatePage("/basket")}),class:Object(n["o"])({"page-active":"/basket"===e.$route.path})},"Корзина",2),Object(n["h"])("button",{onClick:t[6]||(t[6]=function(t){return e.openMenu=!1})},"Закрыть")])],512),[[n["D"],e.openMenu]])]})),_:1})])])}var d=o("5530"),b=o("6c02"),O=function(){var e=Object(n["v"])(Object(b["d"])()),t=Object(n["v"])(!1),o=function(o){t.value=!1,e.value.push(o)};return{openMenu:t,updatePage:o}},j={setup:function(){return Object(d["a"])({},O())}},f=o("6b0d"),v=o.n(f);const g=v()(j,[["render",l]]);var h=g,m=(o("b0c0"),o("7db0"),{class:"all-todos"});function k(e,t,o,r,c,a){var s=Object(n["x"])("app-todos"),u=Object(n["x"])("app-popup");return Object(n["s"])(),Object(n["g"])("div",m,[Object(n["i"])(s,{validTodos:e.validTodos,onTodoRemove:t[0]||(t[0]=function(t){return e.$store.commit("removeTodo",t)})},null,8,["validTodos"]),Object(n["h"])("button",{class:"add",onClick:t[1]||(t[1]=function(){return a.openPopap&&a.openPopap.apply(a,arguments)})},"+"),Object(n["i"])(n["b"],{name:"popup"},{default:Object(n["F"])((function(){return[Object(n["i"])(u,{ref:"popap"},null,512)]})),_:1})])}var y=o("1da1"),T=(o("96cf"),{class:"popap-parent"}),w={class:"popap-body"},C={class:"input-parent"},P=Object(n["h"])("option",{value:"Без группы"},"Без группы",-1),$=["value"],S={class:"popap-footer"},x=["disabled"];function G(e,t,o,r,c,a){return Object(n["G"])((Object(n["s"])(),Object(n["g"])("div",T,[Object(n["h"])("div",w,[Object(n["h"])("div",C,[Object(n["G"])(Object(n["h"])("textarea",{placeholder:"Написать заметку","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.message=e})},null,512),[[n["C"],c.message]])]),Object(n["G"])(Object(n["h"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.group=e})},[P,(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(e.$store.getters.allGroups,(function(e){return Object(n["s"])(),Object(n["g"])("option",{value:e.message,key:e.id},Object(n["z"])(e.message),9,$)})),128))],512),[[n["B"],c.group]]),Object(n["h"])("div",S,[Object(n["h"])("button",{onClick:t[2]||(t[2]=function(e){return a.close(!1)}),class:"error"},"Отмена"),Object(n["h"])("button",{disabled:!c.message.length,class:Object(n["o"])({disabled:!c.message.length}),onClick:t[3]||(t[3]=function(e){return a.close({message:c.message,group:c.group,deleted:!1,id:new Date})})},"Добавить",10,x)])])],512)),[[n["D"],c.isPopapOpen]])}o("d3b7");var _={resolve:null,reject:null,data:function(){return{message:"",group:"Без группы",isPopapOpen:!1}},methods:{open:function(){var e=this;return new Promise((function(t,o){e.isPopapOpen=!0,e.$options.resolve=t,e.$options.reject=o}))},close:function(e){e?this.$options.resolve(e):this.$options.reject(),this.message="",this.isPopapOpen=!1}}};const R=v()(_,[["render",G]]);var I=R,J=(o("4de4"),o("5502")),M=function(){var e=Object(n["v"])(Object(J["b"])()),t=Object(n["d"])((function(){return e.value.getters.allTodos.filter((function(e){return!e.deleted})).reverse()}));return{validTodos:t}},F={class:"todos"},N={class:"todo-footer"},U=["onClick"];function z(e,t,o,r,c,a){return Object(n["s"])(),Object(n["g"])("div",F,[Object(n["i"])(n["c"],{name:"todo"},{default:Object(n["F"])((function(){return[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(o.validTodos,(function(t){return Object(n["s"])(),Object(n["g"])("div",{class:"todo",key:t.id},[Object(n["h"])("div",null,[Object(n["h"])("span",null,Object(n["z"])(t.group),1)]),Object(n["h"])("p",null,Object(n["z"])(t.message),1),Object(n["h"])("div",N,[Object(n["h"])("button",{onClick:function(o){return e.$emit("todoRemove",t.id)}},"Удалить",8,U)])])})),128))]})),_:1})])}var D={props:{validTodos:{default:[]}},emits:{todoRemove:null}};const V=v()(D,[["render",z]]);var q=V,B={components:{"app-popup":I,"app-todos":q},methods:{openPopap:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.popap.open().then((function(t){e.$store.commit("addTodo",Object(d["a"])({},t))})).catch((function(){}));case 2:case"end":return t.stop()}}),t)})))()}},setup:function(){return Object(d["a"])({},M())},props:{todos:{default:[]}},emits:{onChangeTodos:null,todoRemove:null}};const E=v()(B,[["render",k]]);var A=E,H={class:"todos"},K={class:"todo-footer"},L=["onClick"],Q=["onClick"];function W(e,t,o,r,c,a){return Object(n["s"])(),Object(n["g"])("div",H,[Object(n["i"])(n["c"],{name:"todo"},{default:Object(n["F"])((function(){return[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(e.deletedTodos,(function(t){return Object(n["s"])(),Object(n["g"])("div",{class:"todo",key:t.id},[Object(n["h"])("div",null,[Object(n["h"])("span",null,Object(n["z"])(t.group),1)]),Object(n["h"])("p",null,Object(n["z"])(t.message),1),Object(n["h"])("div",K,[Object(n["h"])("button",{class:"recover",onClick:function(o){return e.$store.commit("recoverTodo",t.id)}},"Восстановить",8,L),Object(n["h"])("button",{onClick:function(o){return e.$store.commit("removeTodo",t.id)}},"Удалить",8,Q)])])})),128))]})),_:1})])}var X=function(){var e=Object(n["v"])(Object(J["b"])()),t=Object(n["d"])((function(){return e.value.getters.allTodos.filter((function(e){return e.deleted})).reverse()}));return{deletedTodos:t}},Y={setup:function(){return Object(d["a"])({},X())}};const Z=v()(Y,[["render",W]]);var ee=Z,te={class:"search"},oe={class:"search-head"},ne={key:0,class:"not-found"};function re(e,t,o,r,c,a){var s=Object(n["x"])("app-todos");return Object(n["s"])(),Object(n["g"])("div",te,[Object(n["h"])("div",oe,[Object(n["G"])(Object(n["h"])("input",{type:"text",placeholder:"Введите текст или группу","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.message=t})},null,512),[[n["C"],e.message]])]),Object(n["i"])(n["b"],{name:"popup",mode:"out-in"},{default:Object(n["F"])((function(){return[!e.validTodos.length&&e.message.length?(Object(n["s"])(),Object(n["g"])("div",ne," Нет результатов ")):(Object(n["s"])(),Object(n["f"])(s,{key:1,validTodos:e.validTodos,onTodoRemove:t[1]||(t[1]=function(t){return e.$store.commit("removeTodo",t)})},null,8,["validTodos"]))]})),_:1})])}o("caad"),o("2532"),o("99af");var ce=function(){var e=Object(n["v"])(Object(J["b"])()),t=Object(n["v"])(""),o=Object(n["d"])((function(){if(!t.value.length)return[];var o=t.value.toUpperCase();return e.value.getters.allTodos.filter((function(e){return"".concat(e.group.toUpperCase()," ").concat(e.message.toUpperCase()).includes(o)&&!e.deleted}))}));return{validTodos:o,message:t}},ae={setup:function(){return Object(d["a"])({},ce())},components:{"app-todos":q}};const se=v()(ae,[["render",re]]);var ue=se,ie={class:"todos"},pe={class:"todo-footer"},le=["onClick"],de=["onClick"];function be(e,t,o,r,c,a){var s=Object(n["x"])("app-popup");return Object(n["s"])(),Object(n["g"])("div",ie,[Object(n["i"])(n["c"],{name:"todo"},{default:Object(n["F"])((function(){return[(Object(n["s"])(!0),Object(n["g"])(n["a"],null,Object(n["w"])(a.allGroups,(function(t){return Object(n["s"])(),Object(n["g"])("div",{class:"group",key:t.id},[Object(n["h"])("span",null,Object(n["z"])(t.message),1),Object(n["h"])("div",pe,[Object(n["h"])("button",{class:"recover",onClick:function(o){return e.$router.push({name:"group",params:{id:t.message}})}},"Открыть",8,le),Object(n["h"])("button",{onClick:function(o){return e.$store.commit("removeGroup",[t.id,t.message])}},"Удалить",8,de)])])})),128))]})),_:1}),Object(n["h"])("button",{class:"add",onClick:t[0]||(t[0]=function(){return a.openPopap&&a.openPopap.apply(a,arguments)})},"+"),Object(n["i"])(n["b"],{name:"popup"},{default:Object(n["F"])((function(){return[Object(n["i"])(s,{ref:"popup"},null,512)]})),_:1})])}var Oe={class:"popap-parent"},je={class:"popap-body",style:{height:"200px"}},fe={class:"input-parent"},ve=["placeholder"],ge={class:"popap-footer"},he=["disabled"];function me(e,t,o,r,c,a){return Object(n["G"])((Object(n["s"])(),Object(n["g"])("div",Oe,[Object(n["h"])("div",je,[Object(n["h"])("div",fe,[Object(n["G"])(Object(n["h"])("textarea",{placeholder:o.place,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.message=e})},null,8,ve),[[n["C"],c.message]])]),Object(n["h"])("div",ge,[Object(n["h"])("button",{onClick:t[1]||(t[1]=function(e){return a.close(!1)}),class:"error"},"Отмена"),Object(n["h"])("button",{disabled:!c.message.length,class:Object(n["o"])({disabled:!c.message.length}),onClick:t[2]||(t[2]=function(e){return a.close({message:c.message,id:new Date})})}," Добавить ",10,he)])])],512)),[[n["D"],c.isPopapOpen]])}var ke={resolve:null,reject:null,data:function(){return{message:"",isPopapOpen:!1}},methods:{open:function(){var e=this;return new Promise((function(t,o){e.isPopapOpen=!0,e.$options.resolve=t,e.$options.reject=o}))},close:function(e){e?this.$options.resolve(e):this.$options.reject(),this.message="",this.isPopapOpen=!1}},props:{place:{type:String,required:!1,default:"Создать группу"}}};const ye=v()(ke,[["render",me]]);var Te=ye,we={components:{"app-popup":Te},methods:{openPopap:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.popup.open().then((function(t){e.$store.commit("addGroup",t)})).catch((function(){}));case 2:case"end":return t.stop()}}),t)})))()}},computed:{allGroups:function(){return this.$store.getters.allGroups}}};const Ce=v()(we,[["render",be]]);var Pe=Ce;function $e(e,t,o,r,c,a){var s=Object(n["x"])("app-todos"),u=Object(n["x"])("app-popup");return Object(n["s"])(),Object(n["g"])("div",null,[Object(n["i"])(s,{validTodos:e.validTodos,onTodoRemove:t[0]||(t[0]=function(t){return e.$store.commit("removeTodo",t)})},null,8,["validTodos"]),Object(n["h"])("button",{class:"add",onClick:t[1]||(t[1]=function(){return a.openPopap&&a.openPopap.apply(a,arguments)})},"+"),Object(n["i"])(n["b"],{name:"popup"},{default:Object(n["F"])((function(){return[Object(n["i"])(u,{ref:"popup",place:"Написать заметку"},null,512)]})),_:1})])}var Se=function(){var e=Object(n["v"])(Object(J["b"])()),t=Object(n["v"])(Object(b["c"])()),o=Object(n["d"])((function(){return e.value.getters.allTodos.filter((function(e){return e.group===t.value.params.id&&!e.deleted})).reverse()}));return{validTodos:o}},xe={setup:function(){return Object(d["a"])({},Se())},components:{"app-todos":q,"app-popup":Te},methods:{openPopap:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.popup.open().then((function(t){var o=Object(d["a"])({group:e.$route.params.id,deleted:!1},t);e.$store.commit("addTodo",o)})).catch((function(){}));case 2:case"end":return t.stop()}}),t)})))()}}};const Ge=v()(xe,[["render",$e]]);var _e=Ge,Re=[{path:"/",component:A,name:"home"},{path:"/:pathMatch",component:A},{path:"/basket",component:ee,name:"basket"},{path:"/search",component:ue,name:"search"},{path:"/groups",component:Pe,name:"groups"},{path:"/groups/:id",component:_e,name:"group"}],Ie=Object(b["a"])({history:Object(b["b"])(),routes:Re});Ie.beforeEach((function(e,t){if("group"===e.name){var o=JSON.parse(localStorage.getItem("groups"));if(!o.find((function(t){return t.message===e.params.id})))return t.path}}));var Je=Ie,Me=o("2909"),Fe={state:{todos:localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):[],groups:localStorage.getItem("groups")?JSON.parse(localStorage.getItem("groups")):[]},actions:{},mutations:{addTodo:function(e,t){e.todos.push(Object(d["a"])({},t)),localStorage.setItem("todos",JSON.stringify(e.todos))},removeTodo:function(e,t){var o=e.todos.find((function(e){return e.id===t}));o.deleted?e.todos=e.todos.filter((function(e){return e.id!==t})):o.deleted=!0,localStorage.setItem("todos",JSON.stringify(e.todos))},recoverTodo:function(e,t){e.todos.find((function(e){return e.id===t})).deleted=!1,localStorage.setItem("todos",JSON.stringify(e.todos))},addGroup:function(e,t){e.groups.push(t),localStorage.setItem("groups",JSON.stringify(e.groups))},removeGroup:function(e,t){var o=Object(Me["a"])(t),n=o[0],r=o[1];e.groups=e.groups.filter((function(e){return e.id!==n})),e.todos=e.todos.filter((function(e){return e.group!==r})),localStorage.setItem("groups",JSON.stringify(e.groups)),localStorage.setItem("todos",JSON.stringify(e.todos))}},getters:{allTodos:function(e){return e.todos},allGroups:function(e){return e.groups}}},Ne=new J["a"](Fe),Ue=Object(n["e"])(h);Ue.use(Je),Ue.use(Ne),Ue.mount("#app")}});
//# sourceMappingURL=app.d481e3a6.js.map